- content_for(:title) { '会員情報入力 - メルカリ サンプル' }

.login-header
  = link_to root_path, class: 'login-header__link' do
    = image_tag 'common/logo.svg', alt: 'logo', class: 'devise-header__link__image', height: '49', width: '185'
  .login-header__bar
    %ul
      %li#active-text.first-list
        会員情報
        .radius#active
      %li
        電話番号認証
        .radius
      %li
        お届け先住所入力
        .radius
      %li
        支払い方法
        .radius
      %li
        完了
        .radius-last
.devise-main
  .devise-main__registration
    %h2.devise-main__registration__head 会員情報入力
    = form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: 'devise-main__registration__form' }) do |f|
      .field
        %span.label ニックネーム
        %span.necessary 必須
        = f.text_field :nickname, autofocus: true, placeholder: "例）メルカリ太郎"
        - if resource.errors.messages[:nickname].present?
          - resource.errors.messages[:nickname].each do |message|
            %p.error= message
      .field
        %span.label メールアドレス
        %span.necessary 必須
        = f.email_field :email, autofocus: true, autocomplete: "email", placeholder: "PC・携帯どちらでも可"
        - if resource.errors.messages[:email].present?
          - resource.errors.messages[:email].each do |message|
            %p.error= message
      .field
        %span.label パスワード
        %span.necessary 必須
        = f.password_field :password, autocomplete: "new-password", placeholder: "6文字以上"
        - if resource.errors.messages[:password].present?
          - resource.errors.messages[:password].each do |message|
            %p.error= message
      .field
        %span.label パスワード(確認)
        %span.necessary 必須
        = f.password_field :password_confirmation, autocomplete: "new-password",  placeholder: "6文字以上"
        - if resource.errors.messages[:password_confirmation].present?
          - resource.errors.messages[:password_confirmation].each do |message|
            %p.error= message
      .field
        %h3 本人確認
        %p 安心・安全にご利用いただくために、お客さまの本人情報の登録にご協力ください。他のお客さまに公開されることはありません。

      .field
        %span.label 姓 (全角)
        %span.necessary 必須
        = f.text_field :last_name, placeholder: "例）山田"
        - if resource.errors.messages[:last_name].present?
          - resource.errors.messages[:last_name].each do |message|
            %p.error= message
      .field
        %span.label 名 (全角)
        %span.necessary 必須
        = f.text_field :first_name, placeholder: "例）彩"
        - if resource.errors.messages[:first_name].present?
          - resource.errors.messages[:first_name].each do |message|
            %p.error= message
      .field
        %span.label 姓カナ (全角)
        %span.necessary 必須
        = f.text_field :last_name_kana, placeholder: "例）ヤマダ"
        - if resource.errors.messages[:last_name_kana].present?
          - resource.errors.messages[:last_name_kana].each do |message|
            %p.error= message
      .field
        %span.label 名カナ (全角)
        %span.necessary 必須
        = f.text_field :first_name_kana, placeholder: "例）アヤ"
        - if resource.errors.messages[:first_name_kana].present?
          - resource.errors.messages[:first_name_kana].each do |message|
            %p.error= message
      .field
        %span.label 生年月日
        %span.necessary 必須
        .field__birth
          = f.select :birth_year, options_for_select(1900..2019),{prompt: "---"}
          = f.label :"年"
        .field__birth
          = f.select :birth_month, options_for_select(1..12),{prompt: "---"}
          = f.label :"月"
        .field__birth
          = f.select :birth_day, options_for_select(1..31),{prompt: "---"}
          = f.label :"日"
      %h4 ※ 本人情報は正しく入力してください。会員登録後、修正するにはお時間を頂く場合があります。
      .field
        %span.label 郵便番号
        %span.necessary 必須
        = f.text_field :zipcode, placeholder: "例）123-4567"
        - if resource.errors.messages[:zipcode].present?
          - resource.errors.messages[:zipcode].each do |message|
            %p.error= message
      .field
        %span.label 都道府県
        %span.necessary 必須
        .field__prefecture
          = f.collection_select :prefecture, Prefecture.all, :id, :name,{prompt: "---"}
        %i.icon-arrow-bottom
        - if resource.errors.messages[:prefecture].present?
          - resource.errors.messages[:prefecture].each do |message|
            %p.error= message
      .field
        %span.label 市区町村
        %span.necessary 必須
        = f.text_field :city, placeholder: "例）横浜市緑区"
        - if resource.errors.messages[:city].present?
          - resource.errors.messages[:city].each do |message|
            %p.error= message
      .field
        %span.label 番地
        %span.necessary 必須
        = f.text_field :block, placeholder: "例）青山1-1-1"
        - if resource.errors.messages[:block].present?
          - resource.errors.messages[:block].each do |message|
            %p.error= message
      .field
        %span.label 建物名
        %span.necessary 必須
        = f.text_field :building, placeholder: "例）柳ビル103"
        - if resource.errors.messages[:building].present?
          - resource.errors.messages[:building].each do |message|
            %p.error= message
      .field
        %span.label 電話
        %span.necessary 必須
        = f.text_field :phone_number, placeholder: "例）09012345678"
        - if resource.errors.messages[:phone_number].present?
          - resource.errors.messages[:phone_number].each do |message|
            %p.error= message
      .field
        = image_tag 'common/robot.png', alt: 'robot', class: 'robot-image', height: '100', width: '350'
      .field
        %p 「次へ進む」のボタンを押すことにより、利用規約に同意したものとみなします
      .actions
        = f.submit "次へ進む"
        = link_to '本人情報の登録について>', '#', class: 'devise-main__session__form__forgetting'

.devise-footer
  = render partial: 'partial/devise-footer'